- [会议目的](#会议目的)
- [会议进行](#会议进行)
- [会议内容](#会议内容)
    - [sonar审查规范(代码规范)](#sonar审查规范(代码规范))
    - [mysql建表规范](#mysql建表规范)
    - [redis数据格式规范](#redis数据格式规范)
    - [公司二方库规范](#公司二方库规范)
    - [配套文档及内部培训](#配套文档及内部培训)
# 会议目的
- 让更多的人做对的事
    - 推广优秀的技术实践
    - 分享踩过的坑，防止错误的重复
- 技术规范等级
    - **规范**：规范做法，必须按照规范要求执行
    - **可选**：可选择的技术做法
    - **推荐**：推荐做法，未经充分验证
    - **有疑问**：做法可能有潜在问题，未经充分验证
    - **警告**：做法有潜在问题，若存在现有系统中，属于技术债务，需尽快修改
    - **禁止**：禁止的做法，须立即修改

# 会议进行
- 每两周的周五：下午三点至五点
- 参会人员控制在15人左右
- 会议需要有记录人员，整理会议纪要，并在会议后将议定的规范归档（文档形式待定）
- 每次会议前准备好待讨论的内容
- 每次会议最后确定下一次会议的主题

# 会议内容
- sonar审查规范
- mysql建表规范
- redis数据格式规范
- 公司内部库：二方库的规范（配合maven与nexus），工具类、项目原型的建立
- 配套文档以及内部培训
- 技术债务总结（暂定）

## sonar审查规范(代码规范)
- FindBugs+Sonar way
    - 251 active rules
    - 74 Bug
    - 16 Vulnerability
    - 161 Code Smell
- 对规则做加法: [选择添加的规则](http://10.108.26.211/coding_rules#activation=false|qprofile=java-sonar-way-44555)
- 对规则做减法：[决定不需要的规则](http://10.108.26.211/coding_rules#activation=true|qprofile=java-sonar-way-44555)
---

## mysql建表规范
- 表名、字段名小写，以下划线分隔：**规范**
- 每张表都需要有id字段做自增主键，无任何业务意义，类型为int或bigint，位置放第一个：**规范**
- 表字段顺序问题：被用作索引的字段靠前，唯一索引字段在最前的位置（仅次于id）：**规范**
- 表有关联关系时，关联字段的名称相同：**推荐**
- 有业务属性的唯一标识如何命名：user_id,order_code,type_key...建议统一使用"***_id"的形式
- 一些复杂的业务数据可以使用json格式存入某个字段中（5.7版本的mysql已经支持JSON格式字段）：**可选**
- 频繁更新业务状态的表，例如订单、仓储、系统参数，需要有一个对应的只做插入操作的历史记录表，方便对历史数据做快照和回溯：**可选**
---

## redis数据格式规范
- redis库须有访问密码：**规范**
- key名称要有命名空间的概念，以冒号“:”分隔，例如boss:crm:user_K:9ZI1jKqcRcfT5F9i：**规范**
- 禁止直接使用类似"9ZI1jKqcRcfT5F9i"这样无意义的名称作为key值：**禁止**
- key名称的命名空间前缀小写：**规范**
- key名称的后缀表示redis数据格式：**规范**
    - _K:字符串，建议value以json格式保存，对应get ，set等操作
    - _H:HashMap，即value也是键值对，对应hget, hset等操作
    - _L:List列表，value为列表，对应lpop，lpush等操作
    - _S:Set无序集合，valie为集合，对应sadd，smembers等操作
    - _Z:Set有序集合，对应zadd，zrangebyscore等操作
---

## 公司二方库规范
- 版本目前统一为SNAPSHOT
---

## 配套文档及内部培训
- 使用markdown语法编写文档，.md文件上传svn，生成的html页面更新到公司wiki(也可以很方便的生成pdf)
- 新员工培训，以季度为单位定期--战猿集训营?（待定）
---